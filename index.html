<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Day 1 — Introduce Yourself | 30-Day English Practice</title>
  <style>
    :root{--bg:#f7fafc;--card:#fff;--accent:#0b61d8;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Roboto,Arial;margin:0;background:var(--bg);color:#0f172a}
    .container{max-width:980px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;gap:14px}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#6fb3ff);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    h1{margin:0;font-size:1.5rem}
    p.lead{margin:6px 0 18px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:1fr 340px;gap:18px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}.sidebar{order:2}}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(16,24,40,0.06);}
    .section{margin-bottom:14px}
    .small{font-size:.95rem;color:var(--muted)}
    .btn{background:var(--accent);color:white;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
    .ghost{background:transparent;border:1px solid rgba(11,97,216,0.12);color:var(--accent)}
    textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eefc;font-family:inherit}
    input[type=text]{width:100%;padding:8px;border-radius:8px;border:1px solid #e6eefc}
    ul{padding-left:18px}
    .check{display:flex;align-items:center;gap:10px}
    .timer{font-family:monospace;font-size:1.2rem}
    .meta{font-size:0.9rem;color:var(--muted)}
    .video-wrap{border-radius:8px;overflow:hidden;border:1px solid #eef2ff}
    .controls{display:flex;gap:8px;margin-top:10px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">EN</div>
      <div>
        <h1>Day 1 — Introduce Yourself</h1>
        <p class="lead">Objective: Learn and confidently say short self-introductions. Routine: 15 min listening • 15 min speaking • 10 min pronunciation • 5 min vocabulary & notes.</p>
      </div>
    </header>

    <div class="grid" style="margin-top:18px">
      <main>
        <div class="card section">
          <h2 style="margin-top:0">Daily Objective</h2>
          <p class="small">By the end of this lesson you will be able to:</p>
          <ul>
            <li>Introduce yourself using 2–3 simple sentences (name, country, job/study).</li>
            <li>Pronounce your name and common greetings clearly.</li>
            <li>Recognize and repeat short sentences from a slow English video.</li>
          </ul>
        </div>

        <div class="card section">
          <h2 style="margin-top:0">Activity Breakdown</h2>
          <ol class="small">
            <li><strong>Listening (15 min):</strong> Watch the VOA "Meeting People" video and repeat full sentences aloud.</li>
            <li><strong>Speaking (15 min):</strong> Follow Vanessa's "Introduce Yourself" video — pause and repeat after each line; record once.</li>
            <li><strong>Pronunciation (10 min):</strong> Practice /th/ and /r/ using short drills.</li>
            <li><strong>Vocab & Notes (5 min):</strong> Write 5 new words and make one sentence for each.</li>
          </ol>
        </div>

        <div class="card section">
          <h2 style="margin-top:0">Listening — YouTube Lesson (15 min)</h2>
          <div class="video-wrap">
            <div style="position:relative;padding-bottom:56.25%;height:0">
              <iframe src="https://www.youtube.com/embed/7usN8qGizEw" title="VOA Meeting People" frameborder="0" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe>
            </div>
          </div>
          <p class="meta">Tip: Turn on subtitles if you need them. Watch at 0.9x or 0.75x if the speech feels fast.</p>
        </div>

        <div class="card section">
          <h2 style="margin-top:0">Speaking — Guided Practice (15 min)</h2>
          <div class="video-wrap">
            <div style="position:relative;padding-bottom:56.25%;height:0">
              <iframe src="https://www.youtube.com/embed/WcU4t6M-fqo" title="Speak English With Vanessa - Introduce Yourself" frameborder="0" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe>
            </div>
          </div>
          <p class="small" style="margin-top:8px">Speaking Prompts — pause the video and say each aloud 3×:</p>
          <ol>
            <li>"Hello. My name is [your name]."</li>
            <li>"I am from [your city/country]."</li>
            <li>"I work as a [job] / I study [subject]."</li>
          </ol>

          <div style="margin-top:10px">
            <label class="small">Record your speaking practice (optional):</label>
            <div class="controls">
              <button class="btn" id="recStart">Start Recording</button>
              <button class="ghost" id="recStop">Stop</button>
              <button class="ghost" id="playLast">Play Last</button>
              <button class="ghost" id="downloadLast">Download</button>
            </div>
            <p class="meta" id="recStatus">No recording yet.</p>
          </div>
        </div>

        <div class="card section">
          <h2 style="margin-top:0">Pronunciation Practice (10 min)</h2>
          <p class="small">Short drills — repeat aloud 10 times each:</p>
          <ul>
            <li>"think / thought / through" (practice /th/)</li>
            <li>"right / write / road" (practice /r/)</li>
            <li>Short phrase: "Nice to meet you." — say it smoothly three times.</li>
          </ul>
          <p class="meta">Tip: Place your hand gently on your throat to feel vibrations for voiced sounds (like /v/ and /z/).</p>
        </div>

        <div class="card section">
          <h2 style="margin-top:0">Vocabulary (5 min)</h2>
          <p class="small">Write these 5 words and make one sentence for each.</p>
          <ol>
            <li>Name</li>
            <li>Country</li>
            <li>Work / Job</li>
            <li>Study / Learn</li>
            <li>Nice / Friendly</li>
          </ol>
        </div>

      </main>

      <aside class="sidebar">
        <div class="card">
          <h3 style="margin-top:0">Day 1 — Quick Tools</h3>
          <div class="meta">Timer (set for 45 minutes total):</div>
          <div style="margin-top:8px;text-align:center">
            <div class="timer" id="timerDisplay">45:00</div>
            <div class="controls" style="justify-content:center;margin-top:8px">
              <button class="btn" id="timerStart">Start</button>
              <button class="ghost" id="timerPause">Pause</button>
              <button class="ghost" id="timerReset">Reset</button>
            </div>
          </div>

          <div style="height:12px"></div>
          <div>
            <label class="small">Checklist</label>
            <div style="margin-top:8px" id="checklist">
              <label class="check"><input type="checkbox" id="ch_listening"> Listening (15 min)</label>
              <label class="check"><input type="checkbox" id="ch_speaking"> Speaking (15 min)</label>
              <label class="check"><input type="checkbox" id="ch_pron"> Pronunciation (10 min)</label>
              <label class="check"><input type="checkbox" id="ch_vocab"> Vocab & Notes (5 min)</label>
            </div>
          </div>

          <div style="height:12px"></div>
          <div>
            <label class="small">Notes / Reflection</label>
            <textarea id="notes" placeholder="What went well? What to improve?" rows="6"></textarea>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn" id="saveBtn">Save Progress</button>
              <button class="ghost" id="clearBtn">Clear</button>
            </div>
            <p class="meta" id="saveStatus">Progress not saved.</p>
          </div>

          <div style="height:12px"></div>
          <div>
            <label class="small">Export</label>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="ghost" id="exportCSV">Export CSV</button>
              <button class="ghost" id="exportJSON">Export JSON</button>
            </div>
          </div>
        </div>

        <div style="height:12px"></div>
        <div class="card">
          <h4 style="margin-top:0">Resources</h4>
          <ul class="small">
            <li><a href="https://www.youtube.com/c/VOALearningEnglish" target="_blank">VOA Learning English</a></li>
            <li><a href="https://www.youtube.com/c/SpeakEnglishWithVanessa" target="_blank">Speak English With Vanessa</a></li>
            <li><a href="https://www.youtube.com/c/rachelsenglish" target="_blank">Rachel's English</a></li>
            <li><a href="https://www.youtube.com/user/bbclearningenglish" target="_blank">BBC Learning English</a></li>
          </ul>
        </div>

      </aside>
    </div>

    <footer style="text-align:center;margin-top:18px;color:var(--muted)">Day 1 — Practice, record, save, repeat. Compare your first recording with future ones to measure progress.</footer>
  </div>

  <script>
    // Simple save/load for Day 1
    const storageKey = 'day1_progress_v1';
    const timerDisplay = document.getElementById('timerDisplay');
    const timerStart = document.getElementById('timerStart');
    const timerPause = document.getElementById('timerPause');
    const timerReset = document.getElementById('timerReset');
    const saveBtn = document.getElementById('saveBtn');
    const clearBtn = document.getElementById('clearBtn');
    const exportCSV = document.getElementById('exportCSV');
    const exportJSON = document.getElementById('exportJSON');
    const recStart = document.getElementById('recStart');
    const recStop = document.getElementById('recStop');
    const playLast = document.getElementById('playLast');
    const downloadLast = document.getElementById('downloadLast');
    const recStatus = document.getElementById('recStatus');

    let state = {
      checklist: { listening:false, speaking:false, pronunciation:false, vocabulary:false },
      notes: '',
      recordings: []
    };

    // load saved state
    function load() {
      try {
        const raw = localStorage.getItem(storageKey);
        if (!raw) return;
        state = JSON.parse(raw);
        // apply to UI
        document.getElementById('ch_listening').checked = state.checklist.listening;
        document.getElementById('ch_speaking').checked = state.checklist.speaking;
        document.getElementById('ch_pron').checked = state.checklist.pronunciation;
        document.getElementById('ch_vocab').checked = state.checklist.vocabulary;
        document.getElementById('notes').value = state.notes || '';
        if (state.recordings && state.recordings.length) recStatus.textContent = state.recordings[state.recordings.length-1].label;
        else recStatus.textContent = 'No recording yet.';
        document.getElementById('saveStatus').textContent = 'Progress loaded.';
      } catch (e) { console.error(e); }
    }
    load();

    // save state
    function save() {
      state.checklist.listening = document.getElementById('ch_listening').checked;
      state.checklist.speaking = document.getElementById('ch_speaking').checked;
      state.checklist.pronunciation = document.getElementById('ch_pron').checked;
      state.checklist.vocabulary = document.getElementById('ch_vocab').checked;
      state.notes = document.getElementById('notes').value;
      localStorage.setItem(storageKey, JSON.stringify(state));
      document.getElementById('saveStatus').textContent = 'Progress saved.';
    }
    saveBtn.addEventListener('click', save);

    clearBtn.addEventListener('click', ()=>{
      if (!confirm('Clear saved progress for Day 1?')) return;
      state = { checklist: { listening:false, speaking:false, pronunciation:false, vocabulary:false }, notes:'', recordings:[] };
      localStorage.removeItem(storageKey);
      document.getElementById('ch_listening').checked = false;
      document.getElementById('ch_speaking').checked = false;
      document.getElementById('ch_pron').checked = false;
      document.getElementById('ch_vocab').checked = false;
      document.getElementById('notes').value = '';
      document.getElementById('saveStatus').textContent = 'Cleared.';
      recStatus.textContent = 'No recording yet.';
    });

    exportCSV.addEventListener('click', ()=>{
      const rows = [ ['field','value'],['listening',state.checklist.listening],['speaking',state.checklist.speaking],['pronunciation',state.checklist.pronunciation],['vocabulary',state.checklist.vocabulary],['notes',`"${(state.notes||'').replace(/"/g,'""')}"`]];
      const csv = rows.map(r=>r.join(',')).join('\n');
      navigator.clipboard.writeText(csv).then(()=>alert('CSV copied to clipboard'));
    });
    exportJSON.addEventListener('click', ()=>{
      navigator.clipboard.writeText(JSON.stringify(state, null, 2)).then(()=>alert('JSON copied to clipboard'));
    });

    // Timer logic (45 mins default)
    let totalSeconds = 45*60;
    let timerInterval = null;
    function renderTimer() {
      const m = Math.floor(totalSeconds/60).toString().padStart(2,'0');
      const s = (totalSeconds%60).toString().padStart(2,'0');
      timerDisplay.textContent = `${m}:${s}`;
    }
    renderTimer();
    timerStart.addEventListener('click', ()=>{
      if (timerInterval) return;
      timerInterval = setInterval(()=>{
        if (totalSeconds>0) { totalSeconds--; renderTimer(); }
        else { clearInterval(timerInterval); timerInterval=null; alert('Timer finished'); }
      },1000);
    });
    timerPause.addEventListener('click', ()=>{ if (timerInterval) { clearInterval(timerInterval); timerInterval=null; }});
    timerReset.addEventListener('click', ()=>{ if (timerInterval) { clearInterval(timerInterval); timerInterval=null; } totalSeconds = 45*60; renderTimer(); });

    // Recording (simple using MediaRecorder, saved as blob URLs in-memory + persisted metadata)
    let mediaRecorder = null;
    let chunks = [];
    let lastBlobUrl = null;

    recStart.addEventListener('click', async ()=>{
      if (!navigator.mediaDevices) return alert('Recording not supported in this browser');
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        mediaRecorder = new MediaRecorder(stream);
        chunks = [];
        mediaRecorder.ondataavailable = e=>{ if (e.data && e.data.size) chunks.push(e.data); };
        mediaRecorder.onstop = ()=>{
          const blob = new Blob(chunks, { type: 'audio/webm' });
          const url = URL.createObjectURL(blob);
          lastBlobUrl = url;
          const label = `Recording ${new Date().toLocaleString()}`;
          state.recordings = state.recordings || [];
          state.recordings.push({ label, url });
          localStorage.setItem(storageKey, JSON.stringify(state));
          recStatus.textContent = label;
          alert('Recording saved locally in the browser. Use Download to save to your device.');
        };
        mediaRecorder.start();
        recStatus.textContent = 'Recording...';
      } catch (e) { console.error(e); alert('Could not start recording: ' + e.message); }
    });

    recStop.addEventListener('click', ()=>{
      if (mediaRecorder && mediaRecorder.state !== 'inactive') {
        mediaRecorder.stop();
        try { mediaRecorder.stream.getTracks().forEach(t=>t.stop()); } catch(e){}
      }
    });

    playLast.addEventListener('click', ()=>{
      if (!lastBlobUrl && state.recordings && state.recordings.length) lastBlobUrl = state.recordings[state.recordings.length-1].url;
      if (!lastBlobUrl) return alert('No recording available');
      const a = document.createElement('audio'); a.src = lastBlobUrl; a.controls = true; a.autoplay = true; document.body.appendChild(a);
    });

    downloadLast.addEventListener('click', ()=>{
      if (!lastBlobUrl && state.recordings && state.recordings.length) lastBlobUrl = state.recordings[state.recordings.length-1].url;
      if (!lastBlobUrl) return alert('No recording available');
      const a = document.createElement('a'); a.href = lastBlobUrl; a.download = 'day1_recording.webm'; a.click();
    });

  </script>
</body>
</html>
