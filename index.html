<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Daily English Practice</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background: #f4f4f4;
    color: #222;
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
    padding: 1rem;
  }
  header {
    text-align: center;
    margin-bottom: 1rem;
  }
  h1 {
    margin-bottom: 0.2rem;
  }
  .topic {
    background: #e2e8f0;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
  }
  label {
    display: block;
    margin-top: 1rem;
    font-weight: bold;
  }
  input[type="text"], textarea {
    width: 100%;
    padding: 0.5rem;
    font-size: 1rem;
    margin-top: 0.3rem;
    border-radius: 5px;
    border: 1px solid #bbb;
  }
  button {
    margin-top: 1rem;
    background: #2d89ef;
    color: white;
    border: none;
    padding: 0.7rem 1.2rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
  }
  button:disabled {
    background: #999;
    cursor: default;
  }
  section {
    margin-bottom: 2rem;
  }
  .feedback {
    background: #d4edda;
    border-left: 5px solid #28a745;
    padding: 1rem;
    border-radius: 5px;
    margin-top: 1rem;
  }
  .progress-list {
    list-style: none;
    padding-left: 0;
  }
  .progress-list li {
    background: #fff;
    padding: 0.7rem;
    margin-bottom: 0.5rem;
    border-radius: 5px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 0.1);
  }
  small {
    color: #555;
  }
</style>
</head>
<body>

<header>
  <h1>Daily English Practice</h1>
  <small>Track your speaking skills progress</small>
</header>

<section class="topic-section">
  <h2>Today's Topic</h2>
  <div class="topic" id="daily-topic">
    Loading topic...
  </div>
</section>

<section class="submission-section">
  <h2>Submit Your Video</h2>
  <label for="videoLink">Google Drive Video Link:</label>
  <input type="text" id="videoLink" placeholder="Paste your video shareable link here" />
  <label for="notes">Any notes or comments:</label>
  <textarea id="notes" rows="3" placeholder="Optional..."></textarea>
  <button id="submitBtn">Submit</button>
</section>

<section class="feedback-section" style="display:none;">
  <h2>Feedback</h2>
  <div class="feedback" id="feedbackText">
    No feedback yet.
  </div>
</section>

<section class="progress-section">
  <h2>Progress Log</h2>
  <ul class="progress-list" id="progressList">
    <li>No submissions yet.</li>
  </ul>
</section>

<script>
// Sample beginner topics cycle for demonstration:
const topics = [
  "Introduce Yourself and Talk About Your Hobbies",
  "Describe Your Daily Routine",
  "Talk About Your Favorite Food and Why You Like It",
  "Describe Your Family Members",
  "Explain Your Favorite Place to Visit",
  "Talk About a Movie or Book You Recently Enjoyed",
  "Describe Your Goals for Learning English"
];

// Store data in localStorage for persistence:
const STORAGE_KEY = 'dailyEnglishPracticeData';

// Load saved data or init:
let data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {
  submissions: [],
  currentTopicIndex: 0,
  feedbacks: []
};

function saveData() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
}

// Show current topic:
function showTopic() {
  const topicElem = document.getElementById('daily-topic');
  topicElem.textContent = topics[data.currentTopicIndex] || "No topic for today.";
}

// Update progress list:
function updateProgress() {
  const list = document.getElementById('progressList');
  list.innerHTML = '';
  if(data.submissions.length === 0){
    list.innerHTML = '<li>No submissions yet.</li>';
    return;
  }
  data.submissions.forEach((sub, idx) => {
    const li = document.createElement('li');
    li.innerHTML = `<strong>Topic:</strong> ${topics[sub.topicIndex]}<br>
    <strong>Video Link:</strong> <a href="${sub.videoLink}" target="_blank" rel="noopener">${sub.videoLink}</a><br>
    <strong>Notes:</strong> ${sub.notes || '-'}<br>
    <small>Submitted on: ${new Date(sub.timestamp).toLocaleString()}</small>`;
    list.appendChild(li);
  });
}

// Handle feedback display for last submission:
function showFeedback() {
  const feedbackSection = document.querySelector('.feedback-section');
  const feedbackText = document.getElementById('feedbackText');
  if(data.feedbacks.length === 0){
    feedbackSection.style.display = 'none';
    return;
  }
  const lastFeedback = data.feedbacks[data.feedbacks.length -1];
  feedbackText.textContent = lastFeedback.text;
  feedbackSection.style.display = 'block';
}

// On submit:
document.getElementById('submitBtn').addEventListener('click', () => {
  const videoLink = document.getElementById('videoLink').value.trim();
  const notes = document.getElementById('notes').value.trim();
  if(!videoLink){
    alert('Please enter your Google Drive video link.');
    return;
  }
  // Add submission:
  data.submissions.push({
    topicIndex: data.currentTopicIndex,
    videoLink,
    notes,
    timestamp: Date.now()
  });

  // For demo, simulate generic feedback here:
  const genericFeedback = "Good effort! Work on speaking clearly and expanding your sentences.";

  data.feedbacks.push({
    topicIndex: data.currentTopicIndex,
    text: genericFeedback,
    timestamp: Date.now()
  });

  // Move to next topic:
  data.currentTopicIndex = (data.currentTopicIndex + 1) % topics.length;

  saveData();
  showTopic();
  updateProgress();
  showFeedback();

  // Clear input fields:
  document.getElementById('videoLink').value = '';
  document.getElementById('notes').value = '';

  alert('Submission received. Feedback updated.');
});

// Initialize page:
showTopic();
updateProgress();
showFeedback();

</script>

</body>
</html>


